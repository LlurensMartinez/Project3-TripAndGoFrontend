{"ast":null,"code":"import _classCallCheck from \"/Users/miguel/ironhack/project/m3-frontend-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/miguel/ironhack/project/m3-frontend-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/miguel/ironhack/project/m3-frontend-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/miguel/ironhack/project/m3-frontend-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/miguel/ironhack/project/m3-frontend-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/miguel/ironhack/project/m3-frontend-master/src/pages/TripDetail.js\";\nimport React, { Component } from 'react';\nimport Navbar from '../components/Navbar';\nimport tripService from '../lib/trip-services';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nvar TripDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TripDetail, _Component);\n\n  function TripDetail() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TripDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TripDetail)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: [],\n      message: \"\"\n    };\n\n    _this.handleDelete = function (e) {\n      e.preventDefault();\n      tripService.deleteOne(_this.props.match.params.id).then(function (message) {\n        _this.setState({\n          message: message\n        });\n\n        _this.props.history.goBack();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TripDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      tripService.getOne(this.props.match.params.id).then(function (data) {\n        _this2.setState({\n          data: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var data = this.state.data;\n      console.log(this.props); //  if(data.owner == this.props.user._id ){\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"TripDetail\"), React.createElement(\"img\", {\n        width: \"60px\",\n        src: \"http://tifositours.com/wp-content/uploads/2019/02/Barcelona.jpg\",\n        alt: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, data.date), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, data.dateInit), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, data.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, data.itinerary), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, data.ageRange), data.owner === this.props.user._id && React.createElement(React.Fragment, null, React.createElement(\"button\", {\n        onClick: this.handleDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Eliminar\"), \" \", React.createElement(Link, {\n        to: \"/trips/\".concat(data._id, \"/edit\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Editar\")), React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TripDetail;\n}(Component);\n\nexport default withAuth(TripDetail);","map":{"version":3,"sources":["/Users/miguel/ironhack/project/m3-frontend-master/src/pages/TripDetail.js"],"names":["React","Component","Navbar","tripService","Link","withAuth","TripDetail","state","data","message","handleDelete","e","preventDefault","deleteOne","props","match","params","id","then","setState","history","goBack","getOne","console","log","date","dateInit","title","itinerary","ageRange","owner","user","_id"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,QAAT,QAAyB,2BAAzB;;IAEMC,U;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,OAAO,EAAE;AAFH,K;;UAcRC,Y,GAAe,UAACC,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACAT,MAAAA,WAAW,CAACU,SAAZ,CAAsB,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA9C,EACGC,IADH,CACQ,UAAAT,OAAO,EAAI;AACf,cAAKU,QAAL,CAAc;AACZV,UAAAA,OAAO,EAAPA;AADY,SAAd;;AAGA,cAAKK,KAAL,CAAWM,OAAX,CAAmBC,MAAnB;AACD,OANH;AAOD,K;;;;;;;wCAlBmB;AAAA;;AAClBlB,MAAAA,WAAW,CAACmB,MAAZ,CAAmB,KAAKR,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA3C,EACGC,IADH,CACQ,UAAAV,IAAI,EAAI;AACZ,QAAA,MAAI,CAACW,QAAL,CAAc;AACZX,UAAAA,IAAI,EAAEA;AADM,SAAd;AAGD,OALH;AAMD;;;6BAaQ;AAAA,UACCA,IADD,GACU,KAAKD,KADf,CACCC,IADD;AAGPe,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB,EAHO,CAIP;;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAK,QAAA,KAAK,EAAC,MAAX;AAAkB,QAAA,GAAG,EAAC,iEAAtB;AAAwF,QAAA,GAAG,EAAC,OAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIN,IAAI,CAACiB,IAAT,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIjB,IAAI,CAACkB,QAAT,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKlB,IAAI,CAACmB,KAAV,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAInB,IAAI,CAACoB,SAAT,CANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIpB,IAAI,CAACqB,QAAT,CAPF,EAQGrB,IAAI,CAACsB,KAAL,KAAe,KAAKhB,KAAL,CAAWiB,IAAX,CAAgBC,GAA/B,IACI,0CAAE;AAAQ,QAAA,OAAO,EAAE,KAAKtB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAF,OAAwD,oBAAC,IAAD;AAAM,QAAA,EAAE,mBAAYF,IAAI,CAACwB,GAAjB,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAxD,CATP,EAWE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,CADF;AAeD;;;;EA/CsB/B,S;;AAkDzB,eAAeI,QAAQ,CAACC,UAAD,CAAvB","sourcesContent":["import React, { Component } from 'react';\nimport Navbar from '../components/Navbar';\nimport tripService from '../lib/trip-services';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nclass TripDetail extends Component {\n\n  state = {\n    data: [],\n    message: \"\",\n  }\n\n  componentDidMount() {\n    tripService.getOne(this.props.match.params.id)\n      .then(data => {\n        this.setState({\n          data: data\n        })\n      })\n  }\n\n  handleDelete = (e) => {\n    e.preventDefault();\n    tripService.deleteOne(this.props.match.params.id)\n      .then(message => {\n        this.setState({\n          message,\n        })\n        this.props.history.goBack();\n      })\n  }\n\n  render() {\n    const { data } = this.state;\n\n    console.log(this.props);\n    //  if(data.owner == this.props.user._id ){\n    return (\n      <div>\n        <h1>TripDetail</h1>\n        <img width=\"60px\" src=\"http://tifositours.com/wp-content/uploads/2019/02/Barcelona.jpg\" alt=\"image\" />\n        <p>{data.date}</p>\n        <p>{data.dateInit}</p>\n        <h1>{data.title}</h1>\n        <p>{data.itinerary}</p>\n        <p>{data.ageRange}</p>\n        {data.owner === this.props.user._id\n          && <><button onClick={this.handleDelete}>Eliminar</button> <Link to={`/trips/${data._id}/edit`}>Editar</Link></>\n        }\n        <Navbar />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(TripDetail);"]},"metadata":{},"sourceType":"module"}