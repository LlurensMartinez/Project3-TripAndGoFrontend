{"version":3,"sources":["lib/auth-service.js","providers/AuthProvider.js","components/PrivateRoute.js","components/AnonRoute.js","pages/Home.js","pages/Signup.js","pages/Login.js","components/Navbar.js","lib/trip-services.js","lib/profile-service.js","components/TripCard.js","pages/Trips.js","components/FormCreateTrip.js","pages/TripsCreate.js","components/FormEditTrip.js","pages/TripsEdit.js","lib/comment-service.js","components/FormComment.js","components/CommentCard.js","pages/TripDetail.js","pages/MyTrips.js","pages/TripFavs.js","pages/Profile.js","components/FormEditProfile.js","pages/ProfileEdit.js","pages/NoMatch.js","App.js","index.js"],"names":["authService","AuthService","Object","classCallCheck","this","auth","axios","create","baseURL","process","withCredentials","user","username","password","phoneNumber","name","imageURL","post","then","_ref","data","_ref2","response","get","AuthContext","React","createContext","Provider","Consumer","withAuth","Comp","_Component","WithAuth","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this","react_default","a","createElement","authStore","assign","isLogged","logout","login","signup","props","Component","AuthProvider","state","status","setUser","_this2","setState","logoutUser","catch","error","console","log","loginUser","body","signupUser","_this3","me","_this$state","children","component","rest","objectWithoutProperties","Route","render","Redirect","to","pathname","from","location","className","src","alt","Link","handleFormSubmit","event","preventDefault","handleChange","_event$target","target","defineProperty","_this$state2","onSubmit","type","placeholder","onChange","concat","_id","tripService","TripService","trip","title","description","itinerary","date","dateInit","ageRange","numberPersons","id","put","_ref3","_ref4","_ref5","delete","_ref6","_ref7","_ref8","_ref9","profileService","ProfileService","profile","newPassword","participant","isFav","checkIntro","document","querySelectorAll","forEach","comment","content","innerHTML","replace","handleFav","e","joinFav","message","checkTripIsFav","handleDeleteFav","deleteFav","getTripFavList","_callee","regenerator_default","wrap","_context","prev","next","getMyTripsFavs","favTrips","stop","imgURL","_this$props","some","favTrip","owner","Fragment","onClick","dist_default","diff","unit","search","filterAge","filterDate","getTripList","getAll","handleChangeAge","handleChangeDataInit","filteredList","filter","toLowerCase","includes","toLocaleLowerCase","map","singleTrip","components_TripCard","components_Navbar","FormCreateTrip","avatar","isUploading","progress","history","push","handleChangeUsername","handleUploadStart","handleProgress","handleUploadError","handleUploadSuccess","filename","firebase","storage","ref","child","getDownloadURL","url","lib_default","accept","randomizeFilename","storageRef","onUploadStart","onUploadError","onUploadSuccess","onProgress","withRouter","TripsCreate","components_FormCreateTrip","FormEditTrip","edit","goBack","rows","cols","TripsEdit","isLoading","componentDidMount","getTrip","match","params","getOne","components_FormEditTrip","commentService","CommentService","text","getCommentsList","creator","isJoin","dataComments","getCommentsTrip","checkUserIsJoin","participants","handleDelete","deleteOne","handleJoin","joinTrip","handleLeave","leaveTrip","renderProfiles","length","format","singleComment","components_CommentCard","FormComment","dataJoin","getTripCreateList","getMyTrips","getTripJoinList","_callee2","_context2","getMyTripsJoin","data2","Profile","getProfile","_this$state$data","FormEditProfile","ProfileEdit","components_FormEditProfile","NoMatch","App","AuthProvider_AuthProvider","Switch","components_AnonRoute","exact","path","Home","Signup","Login","components_PrivateRoute","Trips","TripDetail","MyTrips","TripFavs","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","BrowserRouter","src_App","getElementById"],"mappings":"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","file":"static/js/main.abc7bed2.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_BACKEND_URL,\n      withCredentials: true // only beacause we want to share cookies with the backend server otherwise set it to false\n    })\n  }\n\n  signup(user) {\n    const { username, password, phoneNumber, name, imageURL } = user;\n    return this.auth.post('/auth/signup', {username, password, phoneNumber, name, imageURL})\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth.post('/auth/login', {username, password})\n      .then(({ data }) => data)\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {})\n      .then(response => response.data)\n  }\n\n  me(user) {\n    return this.auth.get('/auth/me')\n    .then(response => response.data)\n  }\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n","import React, { Component } from 'react'\nimport authService from '../lib/auth-service';\n\nexport const AuthContext = React.createContext(\n  // authStore // default value\n);\n\nconst { Provider, Consumer }  = AuthContext;\n\nexport const withAuth = (Comp) => {\n  return class WithAuth extends Component {\n    render() {\n      return (\n        <Consumer>\n          {(authStore) => {\n            return <Comp \n              isLogged={authStore.isLogged}\n              user={authStore.user}\n              logout={authStore.logout}\n              login={authStore.login}\n              signup={authStore.signup}\n              {...this.props} />\n          }}\n        </Consumer>\n      )\n    }    \n  }\n}\n\nexport default class AuthProvider extends Component {\n  state = {\n    isLogged: false,\n    user: {},\n    status: 'loading'\n  }\n\n  setUser = (user) => {\n    this.setState({\n      isLogged: true,\n      user,\n    })\n  }\n\n  logoutUser = () => {\n    return authService.logout()\n      .then(() => {\n        this.setState({ \n          isLogged: false,\n          user: {},\n        });\n      })\n      .catch( error => console.log(error))\n  }\n\n  loginUser = (body) => {\n    return authService.login(body)\n      .then((user) => {\n        this.setUser(user);\n        return user;\n      })\n      .catch(error => error)\n  }\n\n  signupUser = (body) => {\n    return authService.signup(body)\n      .then((user) => {\n        this.setUser(user);\n        return user;\n      })\n      .catch(error => error)\n  }\n\n  componentDidMount() {\n    authService.me()\n      .then((user) => {\n        this.setState({\n          isLogged: true,\n          user,\n          status: 'loaded'\n        })\n      })\n      .catch((error) => {\n        this.setState({ \n          isLogged: false,\n          user: {},\n          status: 'loaded'\n        });\n      })\n  }\n\n  render() {\n    const { isLogged, user, status } = this.state;\n    const { children } = this.props;\n    switch (status) {\n      case 'loading':\n        return <div>Loading</div>\n      default:\n        return (\n          <Provider value={\n            { isLogged,\n              user,\n              logout: this.logoutUser, \n              login: this.loginUser,\n              signup: this.signupUser,\n            }}>\n            {children}\n          </Provider>    \n        );\n    }\n  }\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nconst PrivateRoute = ({ component: Component, isLogged, ...rest }) => {\n  return (\n    <Route \n      {...rest}\n      render={props => {\n        if (isLogged) {\n          // Recibe cualquier componente\n          return <Component {...props} />\n        } else {\n          return <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n        }\n      }}\n    />\n  )\n}\nexport default withAuth(PrivateRoute);","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nconst AnonRoute = ({ component: Component, isLogged, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (!isLogged) {\n          return <Component {...props} />\n        } else {\n          return <Redirect to={{ pathname: '/trips', state: { from: props.location } }} />\n        }\n      }\n      }\n    />\n  )\n}\nexport default withAuth(AnonRoute);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nclass Home extends Component {\n  render() {\n    const { isLogged } = this.props;\n    if (isLogged) {\n      return <div>\n\n\n      </div>\n    } else {\n      return (\n        <div className=\"home-background\">\n          <div className=\"home-padding-top\">\n            <div className=\"text-align-center\">\n              <img src=\"/images/logo.png\" alt=\"logo\" />\n            </div>\n            <div className=\"text-align-center home-line-height\">\n              <p className=\"home-montserrat600 home-link-color-white\">¿Quieres viajar y no tienes con quién ir?\n          </p>\n              <p className=\"home-montserrat800 home-link-color-white\">Inicia tu aventura</p>\n            </div>\n            <div className=\"home-margin-top\">\n              <Link to='/login' className=\"home-newsession-link\">INICIAR SESIÓN</Link>\n            </div>\n            <footer className=\"home-footer\">\n              <p>¿No tienes una cuenta?</p>\n              <p><Link className=\"home-link-color-white\" to='/signup'>¡Registrate!</Link></p>\n            </footer>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default withAuth(Home);","import React, { Component } from 'react';\nimport { withAuth } from '../providers/AuthProvider';\n\nclass Signup extends Component {\n\n  state = {\n    username: \"\",\n    password: \"\",\n    name: \"\",\n    phoneNumber: \"\",\n    imageURL: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n\n    const {username, password, name, phoneNumber, imageURL} = this.state\n\n    this.props.signup({ username, password, name, phoneNumber, imageURL })\n      .then((data) => {\n        if (data.username) {\n          this.setState({\n            username: \"\",\n            password: \"\",\n            name: \"\",\n            phoneNumber: \"\",\n            imageURL: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\"\n          });\n        }\n        this.setState({\n          error: data.response.data.error\n        })\n\n      })\n      .catch(error => console.log(error))\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  render() {\n    const { username, password, name, phoneNumber } = this.state;\n    return (\n      <div className=\"login-div-container\">\n        <div className=\"auth-box\">\n        <div className=\"login-text-align-center\">\n            <img className=\"signup-position-logo\" src=\"/images/avion.png\" alt=\"logo\" />\n          </div>\n          <form onSubmit={this.handleFormSubmit} className=\"auth-form\">\n            <input className=\"auth-font-size login-form-input2 login-form-input\" type=\"text\" placeholder=\"NOMBRE Y APELLIDOS\" name=\"name\" value={name} onChange={this.handleChange} />\n            <input className=\"auth-font-size login-form-input2 login-form-input\" type=\"email\" placeholder=\"DIRECCIÓN DE CORREO ELECTRÓNICO\" name=\"username\" value={username} onChange={this.handleChange} />\n            <input className=\"auth-font-size login-form-input2 login-form-input\" type=\"password\" placeholder=\"CONTRASEÑA\" name=\"password\" value={password} onChange={this.handleChange} />\n            <input className=\"auth-font-size login-form-input2 login-form-input\" type=\"number\" placeholder=\"NÚMERO DE TELÉFONO\" name=\"phoneNumber\" value={phoneNumber} onChange={this.handleChange} />\n            {this.state.error}\n            <div className=\"text-align-center\">\n              <input className=\"auth-form-button-submit login-border-none\" type=\"submit\" value=\"REGÍSTRATE\" />\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(Signup);","import React, { Component } from 'react';\nimport { withAuth } from '../providers/AuthProvider';\nimport { Link } from 'react-router-dom';\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state\n    this.props.login({ username, password })\n      .then((data) => {\n        if(!data.username){\n          this.setState({\n            error: data.response.data.error\n          })\n        }\n      })\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  render() {\n    const { username, password } = this.state;\n    return (\n      <div className=\"login-div-container\">\n        <div className=\"login-box\">\n          <div className=\"login-text-align-center\">\n            <img className=\"login-position-logo\" src=\"/images/logo-blanco.png\" alt=\"logo\" />\n          </div>\n          <form onSubmit={this.handleFormSubmit} className=\"login-form\">\n            <label className=\"login-label-email\">EMAIL</label>\n            <input className=\"login-form-input2 login-form-input\" type=\"email\" name=\"username\" value={username} onChange={this.handleChange} />\n            <input placeholder=\"PASSWORD\" className=\" login-margin-top login-form-input\" type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n            {this.state.error}\n              <button className=\"login-form-button-submit login-border-none\" type=\"submit\">INICIAR SESIÓN</button>\n            <div className=\"login-dont-have-account\">\n            <p>¿No tienes una cuenta?</p>\n              <p><Link className=\"color-black\" to='/signup'>¡Registrate!</Link></p>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\n\nclass Navbar extends Component {\n  render() {\n    return (\n      <nav className='navbar'>\n        <div className=\"text-align-center\">\n          <Link to='/trips' className=\"text-decoration-none color-black\">\n            <img src=\"/images/search.png\" alt=\"search\" className=\"size-5vh\"></img>\n            <p className=\"text-size\">Explorar</p>\n          </Link>\n        </div>\n        <div className=\"text-align-center\">\n          <Link to='/favs' className=\"text-decoration-none color-black\">\n          <img src=\"/images/like.png\" alt=\"like\" className=\"size-5vh\"></img>\n          <p className=\"text-size\">Guardados</p>\n          </Link>\n        </div>\n        <div className=\"text-align-center\">\n          <Link to='/trips/new' className=\"text-decoration-none color-black\">\n          <img src=\"/images/world.png\" alt=\"world\" className=\"size-5vh\"></img>\n          <p className=\"text-size\">Crear viaje</p>\n          </Link>\n        </div>\n        <div className=\"text-align-center\">\n          <Link to='/mytrips' className=\"text-decoration-none color-black\">\n          <img src=\"/images/airplane.png\" alt=\"airplane\" className=\"size-5vh\"></img>\n          <p className=\"text-size\">Mis viajes</p>\n          </Link>\n        </div>\n        <div className=\"text-align-center\">\n          <Link to={`/profile/${this.props.user._id}`} className=\"text-decoration-none color-black\">\n          <img src=\"/images/user.png\" alt=\"user\" className=\"size-5vh\"></img>\n          <p className=\"text-size\">Perfil</p>\n          </Link>\n        </div>\n      </nav>\n    )\n  }\n}\n\nexport default withAuth(Navbar);","import axios from 'axios';\n\n\nclass TripService {\n  constructor() {\n    this.trip = axios.create({\n      baseURL: process.env.REACT_APP_BACKEND_URL,\n      withCredentials: true // only beacause we want to share cookies with the backend server otherwise set it to false\n    })\n  }\n\n  create(data) {\n    const { title, description, itinerary, date, dateInit, ageRange, numberPersons, imageURL  } = data;\n    return this.trip.post('/trip', { title, description, itinerary, date, dateInit, ageRange, numberPersons, imageURL  })\n      .then(({ data }) => data);\n  }\n\n  edit(id,data) {\n    const { title, description, itinerary, date, dateInit, ageRange, numberPersons, imageURL } = data;\n    return this.trip.put(`/trip/${id}/edit`, { title, description, itinerary, date, dateInit, ageRange, numberPersons, imageURL })\n      .then(({ data }) => data);\n  }\n  // Llama a la Api para recoger todos los viajes\n  getAll() {\n    return this.trip.get('/trip')\n      .then(({ data }) => data);\n  }\n\n  getMyTrips() {\n    return this.trip.get('/trip/mytrips')\n      .then(({ data }) => data);\n  }\n\n  // Llama a la Api para recoger un viaje especifico\n  getOne(id) {\n    return this.trip.get(`/trip/${id}`)\n      .then(({ data }) => data);\n  }\n\n  deleteOne(id) {\n    return this.trip.delete(`/trip/${id}`)\n      .then(({ data }) => data);\n  }\n\n  joinTrip(id) {\n    return this.trip.put(`/trip/${id}/join`)\n      .then(({ data }) => data);\n  }\n\n\n  leaveTrip(id) {\n    return this.trip.put(`/trip/${id}/leave`)\n      .then(({ data }) => data);\n  }\n\n  getMyTripsJoin(){\n    return this.trip.get('/trip/mytripsjoin')\n      .then(({ data }) => data);\n  }\n}\n\n\nconst tripService = new TripService();\n\nexport default tripService;","import axios from 'axios';\n\nclass ProfileService {\n  constructor() {\n    this.profile = axios.create({\n      baseURL: process.env.REACT_APP_BACKEND_URL,\n      withCredentials: true // only beacause we want to share cookies with the backend server otherwise set it to false\n    })\n  }\n  // Llama a la Api para editar los datos del usuario\n  edit(data) {\n    const { name, username, password, newPassword, phoneNumber, imageURL, description } = data;\n    return this.profile.put(`/profile/edit`, { name, username, password, newPassword, phoneNumber, imageURL, description })\n      .then(({ data }) => data);\n  }\n  // Llama a la Api para recoger los datos del usuario\n  getProfile(id) {\n    return this.profile.get(`/profile/${id}`)\n      .then(({ data }) => data);\n  }\n\n  // Llama a la Api para mostras perfiles de los participantes\n  getParticipants(participant) {\n    return this.profile.get(`/profile/participants/${participant}`)\n      .then(({ data }) => data);\n  }\n  joinFav(id) {\n    return this.profile.put(`/profile/${id}/addfavs`)\n      .then(({ data }) => data);\n  }\n  deleteFav(id) {\n    return this.profile.put(`/profile/${id}/deletefavs`)\n      .then(({ data }) => data);\n  }\n  getMyTripsFavs(){\n    return this.profile.get('/profile/favoritos')\n      .then(({ data }) => data);\n  }\n}\nconst profileService = new ProfileService();\n\nexport default profileService;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport profileService from '../lib/profile-service';\nimport { withAuth } from '../providers/AuthProvider';\nimport Moment from 'react-moment';\nimport 'moment-timezone';\n\nclass TripCard extends Component {\n\n    state = {\n        data: [],\n        isFav: false\n    }\n\n    //Componentdidmount\n    componentDidMount() {\n        this.checkTripIsFav();\n        this.checkIntro();\n    }\n\n    checkIntro = () =>{\n        // Formating comments, to replace \\b by <br>\n        let comments = document.querySelectorAll('p');\n        comments.forEach((comment) => {\n            let content = comment.innerHTML.replace(/\\n/g, '<br>');\n            comment.innerHTML = content;\n        });\n      }\n    \n\n    handleFav = (e) => {\n        const { data } = this.props;\n        // e.preventDefault();\n        profileService.joinFav(data._id)\n            .then(message => {\n                this.checkTripIsFav();\n                this.setState({\n                    message,\n                })\n            })\n    }\n    handleDeleteFav = (e) => {\n        const { data } = this.props;\n        // e.preventDefault();\n        profileService.deleteFav(data._id)\n            .then(message => {\n                this.checkTripIsFav();\n                if (this.props.getTripFavList) {\n                    this.props.getTripFavList();\n                }\n                this.setState({\n                    message,\n                })\n            })\n    }\n\n    checkTripIsFav = async () => {\n        await profileService.getMyTripsFavs()\n            .then(data => {\n                this.setState({\n                    data: data.favTrips,\n                })\n            })\n    }\n    render() {\n        const { data, user } = this.props;\n        const isFav = this.state.data.some(favTrip => favTrip._id === this.props.data._id);\n        let imgURL;\n        if (!isFav) {\n            imgURL = \"./images/like2.png\"\n        }\n        else {\n            imgURL = \"./images/isfav.png\"\n        }\n\n        return (\n            <div className=\"tripscard-margin-top\">\n                <div>\n                    <div className=\"tripcard-caption\">\n                        <div className=\"text-align-right\">\n                            {data.owner !== user._id\n                                && <><button className=\"tripcard-button-heart\" onClick={() => {\n                                    !isFav ?\n                                        this.handleFav() :\n                                        this.handleDeleteFav()\n                                }}><img src={imgURL} className=\"tripcard-style-fav \" alt=\"icon-fav\"/></button> </>\n                            }\n                        </div>\n                        <p className=\"tripcard-date-days\">\n                            <Moment diff={data.dateInit} unit=\"days\">{data.date}</Moment> días\n                    </p>\n                    </div>\n\n                    <Link to={`/trips/${data._id}`}>\n                        <img className=\"tripcard-image\" src={data.imageURL} alt=\"trip\" />\n                    </Link>\n                </div>\n                <h1 className=\"font-family-montserrat tripcard-title\">{data.title}</h1>\n                <p className=\"tripcard-style-p\">Itinerario: {data.itinerary}</p>\n                <p className=\"tripcard-style-p\">Edad: {data.ageRange} años</p>\n            </div>\n        );\n    }\n}\n\nexport default withAuth(TripCard);","import React, { Component } from 'react'\nimport { withAuth } from '../providers/AuthProvider';\nimport Navbar from '../components/Navbar';\nimport tripService from '../lib/trip-services';\nimport TripCard from '../components/TripCard';\n\n\nclass Trips extends Component {\n  state = {\n    data: [],\n    search: '',\n    filterAge: '',\n    filterDate: ''\n  }\n\n  componentDidMount() {\n    this.getTripList();\n  }\n\n  \n  getTripList = async () => {\n    await tripService.getAll()\n      .then(data => {\n        this.setState({\n          data: data\n        })\n      })\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      search: e.target.value,\n    })\n  }\n\n  handleChangeAge = (e) => {\n    this.setState({\n      filterAge: e.target.value,\n    })\n  }\n\n  handleChangeDataInit = (e) => {\n    this.setState({\n      filterDate: e.target.value,\n    })\n  }\n\n  render() {\n    const { data } = this.state;\n\n    let filteredList = data.filter(e => e.title.toLowerCase().includes(this.state.search.toLocaleLowerCase())\n      &&\n      e.ageRange.includes(this.state.filterAge)\n      &&\n      e.dateInit >= this.state.filterDate\n    );\n    return (\n      <>\n        <div className=\"trips-margin-div-global\">\n          <div>\n            <img className=\"trips-search\" src=\"/images/search1.png\" alt=\"\" />\n            <input className=\"tripcard-style-toolbar\" onChange={this.handleChange}>\n            </input>\n          </div>\n          <div className=\"trips-height-filter display-float\">\n            <div className=\"formcreatetrip-margin-top\">\n              <select className=\"trip-padding-age trips-style\" value={this.state.filterAge} name=\"ageRange\" onChange={this.handleChangeAge}>\n                <option value=\"\">Edad</option>\n                <option value=\"18-25\" >18-25</option>\n                <option value=\"25-30\">25-30</option>\n                <option value=\"30-40\">30-40</option>\n                <option value=\"40-50\">40-50</option>\n                <option value=\"+50\">+50</option>\n              </select>\n            </div>\n            <div className=\"trips-margin-left\">\n              <input type=\"date\" name=\"dateInit\" value={this.state.filterDate} onChange={this.handleChangeDataInit} className=\"trips-style\" />\n            </div>\n          </div>\n          <div className=\"trips-div-title-margin\">\n            <p className=\"trips-title font-family-montserrat\">Viajes más populares</p>\n          </div>\n          {filteredList.map(singleTrip => (\n            <TripCard\n              key={singleTrip._id}\n              data={singleTrip}\n            />))}\n        </div>\n        <Navbar />\n      </>\n    )\n  }\n}\n\nexport default withAuth(Trips);","import React, { Component } from 'react';\nimport tripService from '../lib/trip-services';\nimport { withRouter } from 'react-router-dom';\nimport firebase from 'firebase';\nimport FileUploader from 'react-firebase-file-uploader';\n\n\n// Clase para crear con un formulario un viaje\nclass FormCreateTrip extends Component {\n  state = {\n    title: \"\",\n    description: \"\",\n    itinerary: \"\",\n    date: \"\",\n    dateInit: \"\",\n    ageRange: \"18-25\",\n    numberPersons: \"\",\n    imageURL: 'https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80',\n    avatar: '',\n    isUploading: false,\n    progress: 0,\n  }\n\n  // Entra aqui al presionar crear viaje en el formulario\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    \n    const { title, description,itinerary,date, dateInit, ageRange, numberPersons,imageURL } = this.state;\n    // se envian los datos introducidos a tripService\n    tripService.create({ title, description, itinerary, date, dateInit, ageRange, numberPersons,imageURL })\n      .then((data) => {\n        // una vez enviado los datos vamos a la pagina donde se mostraran los detalles del viaje creado\n        this.props.history.push(`/trips/${data._id}`);\n      })\n      .catch((data) => {\n        this.setState({\n          error: data.response.data.error\n        })\n      })\n  }\n\n  //funcion que registra todo lo que intriducimos en los campos input y lo introduce el el campo que corresponda del state\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  //----------------------Funciones para enviar los datos a firebase-------------------\n  handleChangeUsername = (event) => this.setState({username: event.target.value});\n  handleUploadStart = () => this.setState({isUploading: true, progress: 0});\n  handleProgress = (progress) => this.setState({progress});\n  handleUploadError = (error) => {\n  this.setState({isUploading: false});\n    console.error(error);\n  }\n  handleUploadSuccess = (filename) => {\n    this.setState({avatar: filename, progress: 100, isUploading: false});\n    firebase.storage().ref('/fotos').child(filename).getDownloadURL().then(url => this.setState({imageURL: url}));\n  };\n//------------------------Funciones para enviar los datos a firebase--------------------\n\n\n  render() {\n    const { title, description, itinerary, date, dateInit, ageRange, numberPersons } = this.state;\n    return (\n      <>\n      \n        <div className=\"trips-margin-div-global\">\n          <div>\n            <h1 className=\"trips-title font-family-montserrat\">¡Crea tu propio viaje!</h1>\n          </div>\n          <form className=\"formcreatetrip-margin-top-2\" onSubmit={this.handleFormSubmit}>\n            <div >\n              <input className=\"formcreate-padding-top2 formcreate-padding-top borderTest font-family-roboto\" type=\"text\" placeholder=\"Introduce el título de tu viaje\" name=\"title\" value={title} onChange={this.handleChange} />\n            </div>\n            <div className=\"formcreatetrip-margin-top formcreate-padding-top\">\n              <textarea className=\"font-family-roboto formcreatetrip-text-area\" name=\"description\" placeholder=\"Descripción del viaje\" value={description} onChange={this.handleChange}>\n              </textarea>\n            </div>\n            <div className=\"formcreate-padding-top formcreatetrip-margin-top\">\n              <textarea placeholder=\"Itinerario\" name=\"itinerary\" value={itinerary} onChange={this.handleChange} className=\"font-family-roboto formcreatetrip-text-area\">\n              </textarea>\n            </div>\n            <div className=\"formcreatetrip-margin-top formcreatetrip-flex\">\n              <div>\n                <div>\n                  <label className=\"color-grey\">Fecha Inicio:</label>\n                </div>\n                <div>\n                  <input type=\"date\" name=\"dateInit\" value={dateInit} onChange={this.handleChange} className=\"formcreatetrip-date\" />\n                </div>\n              </div>\n              <div>\n                <div>\n                  <label className=\"color-grey\">Fecha Fin:</label>\n                </div>\n                <div>\n                  <input type=\"date\" name=\"date\" value={date} onChange={this.handleChange} className=\"formcreatetrip-date\" />\n                </div>\n              </div>\n            </div>\n            <div className=\"formcreate-margin formcreatetrip-margin-top\">\n              <label className=\"color-grey\">Rango de edad:</label>\n              <select className=\"formcreatetrip-age-range\" value={ageRange} name=\"ageRange\" onChange={this.handleChange}>\n                <option value=\"18-25\" >18-25</option>\n                <option value=\"25-30\">25-30</option>\n                <option value=\"30-40\">30-40</option>\n                <option value=\"40-50\">40-50</option>\n                <option value=\"+50\">+50</option>\n              </select>\n            </div>\n            <div className=\"formcreatetrip-margin-top\">\n              <input type=\"number\" className=\"formcreate-margin borderTest font-family-roboto\" placeholder=\"Número máximo de personas\" name=\"numberPersons\" value={numberPersons} onChange={this.handleChange} />\n            </div>\n            <FileUploader\n                accept=\"image/*\"\n                name=\"avatar\"\n                randomizeFilename\n                storageRef={firebase.storage().ref('/fotos')}\n                onUploadStart={this.handleUploadStart}\n                onUploadError={this.handleUploadError}\n                onUploadSuccess={this.handleUploadSuccess}\n                onProgress={this.handleProgress}\n             />\n            <footer className=\"formcreatetrip-text-align-center\">\n              <input className=\"formcreatetrip-button\" type=\"submit\" value=\"Crear viaje\" />\n            </footer>\n          </form>\n          {this.state.error}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withRouter(FormCreateTrip);","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport FormCreateTrip from '../components/FormCreateTrip'\nimport Navbar from '../components/Navbar';\n\nclass TripsCreate extends Component {\n  render() {\n    return (\n      <div className=\"image-background-formcreate\">\n      <div>\n        <div className=\"nav-top\">\n          <div>\n          </div>\n        </div>\n        <FormCreateTrip history={this.props} />\n        <Navbar />\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(TripsCreate);","import React, { Component } from 'react';\nimport tripService from '../lib/trip-services';\nimport firebase from 'firebase';\nimport FileUploader from 'react-firebase-file-uploader';\n\nclass FormEditTrip extends Component {\n  state = {\n    title: this.props.trip.title,\n    description: this.props.trip.description,\n    itinerary: this.props.trip.itinerary,\n    imageURL: this.props.trip.imageURL,\n    avatar: '',\n    isUploading: false,\n    progress: 0,\n  }\n\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const { title, description, itinerary, imageURL } = this.state;\n\n    tripService.edit(this.props.trip._id, { title, description, itinerary, imageURL })\n      .then(() => {\n        this.props.history.goBack();\n      })\n      .catch((data) => {\n        this.setState({\n          error: data.response.data.error\n        })\n      })\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  handleChangeUsername = (event) => this.setState({ username: event.target.value });\n  handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\n  handleProgress = (progress) => this.setState({ progress });\n  handleUploadError = (error) => {\n    this.setState({ isUploading: false });\n    console.error(error);\n  }\n  handleUploadSuccess = (filename) => {\n    this.setState({ avatar: filename, progress: 100, isUploading: false });\n    firebase.storage().ref('/fotos').child(filename).getDownloadURL().then(url => this.setState({ imageURL: url }));\n  };\n\n\n  render() {\n    const { title, description, itinerary } = this.state;\n    return (\n      <>\n        <p onClick={this.props.history.goBack}>\n          <img src=\"/images/right-arrow.png\" alt=\"arrow-left\" className=\"size-5vh arrow-back\" />\n        </p>\n        <div className=\"formedittrip-margin-top-global trips-margin-div-global2\">\n          <div>\n            <h1 className=\"trips-title font-family-montserrat\">Editar viaje</h1>\n          </div>\n            <div className=\"margin-formedittrip\">  \n            {this.state.isUploading &&\n            <p>Progress: Uploading...</p>\n            }\n            {this.state.imageURL &&\n            <img src={this.state.imageURL} className=\"tripcard-image2\" alt=\"trip\"/>\n            }<div className=\"margin-x-formedittrip\">\n              <FileUploader\n                accept=\"image/*\"\n                name=\"avatar\"\n                randomizeFilename\n                storageRef={firebase.storage().ref('/fotos')}\n                onUploadStart={this.handleUploadStart}\n                onUploadError={this.handleUploadError}\n                onUploadSuccess={this.handleUploadSuccess}\n                onProgress={this.handleProgress}\n              />\n            </div>\n            </div>\n          <form className=\"formcreatetrip-margin-top\" onSubmit={this.handleFormSubmit}>\n            <div>\n              <label className=\"profile-titulos\">Título</label>\n              <input className=\" formcreate-padding-top borderTest font-family-roboto\" name=\"title\" value={title} onChange={this.handleChange} />\n            </div>\n            <div className=\"formcreatetrip-margin-top formcreate-padding-top\">\n              <label className=\"profile-titulos\">Descripción</label>\n              <textarea className=\"font-family-roboto formcreatetrip-text-area\" name=\"description\" rows=\"10\" value={description} onChange={this.handleChange}></textarea>\n            </div>\n            <div className=\"formcreate-padding-top formcreatetrip-margin-top\">\n              <label className=\"profile-titulos\">Itinerario</label>\n              <textarea className=\"formcreatetrip-text-area\" type=\"text\" rows=\"10\" cols=\"50\" name=\"itinerary\" value={itinerary} onChange={this.handleChange} />\n            </div>\n            <div className=\"text-align-center\">\n              <input className=\"formcreatetrip-button\" type=\"submit\" value=\"Editar viaje\" />\n            </div>\n          </form>\n        \n          {this.state.error}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default FormEditTrip;","import React, { Component } from 'react';\nimport FormEditTrip from '../components/FormEditTrip';\nimport tripService from '../lib/trip-services';\n\n\nclass TripsEdit extends Component {\n\n  state = {\n    isLoading: true,\n    data: {}\n\n  }\n\n  componentDidMount = () => {\n    this.getTrip();\n  }\n\n  getTrip = () => {\n    const { id } = this.props.match.params;\n    tripService.getOne(id)\n      .then(data => {\n        this.setState({\n          data: data,\n          isLoading: false\n        })\n    \n      })\n\n  }\n\n  render() {\n    const { data,isLoading } = this.state;\n    \n    switch (isLoading) {\n      case true:\n        return 'loading...';\n      case false:\n        \n        return (\n          <div className=\"image-background-formcreate\">\n          <div>\n            <FormEditTrip trip={data} history={this.props.history}/>\n          </div>\n          </div>\n        );\n      default:\n          break;\n    }\n  }\n}\n\nexport default TripsEdit;","import axios from 'axios';\n\nclass CommentService {\n  constructor() {\n    this.comment = axios.create({\n      baseURL: process.env.REACT_APP_BACKEND_URL,\n      withCredentials: true // only beacause we want to share cookies with the backend server otherwise set it to false\n    })\n  }\n\n  create(id,data) {\n    const { text } = data;\n    return this.comment.post(`/comment`, { id,text })\n      .then(({ data }) => data);\n  }\n\n  getCommentsTrip(id) {\n   return this.comment.get(`/comment/${id}/tripcomments`)\n      .then(({ data }) => data);\n  }\n\n  // Llama a la Api para recoger todos los viajes\n  // getAll() {\n  //   return this.trip.get('/trip')\n  //     .then(({ data }) => data);\n  // }\n}\n\nconst commentService = new CommentService();\n\nexport default commentService;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport commentService from '../lib/comment-service';\nimport { withAuth } from '../providers/AuthProvider';\n\n\nclass CommentCard extends Component {\n\n    state = {\n        text: \"\"\n        \n    }\n\n    //Componentdidmount\n    componentDidMount() {\n    \n\n    }\n\n    // Entra aqui al presionar crear viaje en el formulario\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    \n    const { text } = this.state;\n    \n    // se envian los datos introducidos a tripService\n    commentService.create(this.props.trip._id, { text })\n      .then((data) => {\n       this.props.getCommentsList();\n      })\n      .catch((data) => {\n        this.setState({\n          error: data.response.data.error\n        })\n      })\n    }\n\n     //funcion que registra todo lo que intriducimos en los campos input y lo introduce el el campo que corresponda del state\n    handleChange = (event) => {\n     const { name, value } = event.target;\n        this.setState({ [name]: value });\n    }\n\n    render() {\n        const { data, user } = this.props;\n        const { text } = this.state;\n\n        return (\n            <div className=\"tripscard-margin-top23\">\n                <form className=\"formcreatetrip-margin-top\" onSubmit={this.handleFormSubmit}>\n            <div className=\"formcreate-padding-top formcreatetrip-margin-top\">\n              <textarea placeholder=\"comentario\" name=\"text\" value={text} onChange={this.handleChange} className=\"font-family-roboto formcreatetrip-text-area\">\n              </textarea>\n            </div>\n            <footer className=\"formcreatetrip-text-align-center\">\n              <input className=\"formcreatetrip-button23\" type=\"submit\" value=\"Enviar\" />\n            </footer>\n          </form>\n            </div>\n        );\n    }\n}\n\nexport default withAuth(CommentCard);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport profileService from '../lib/profile-service';\nimport { withAuth } from '../providers/AuthProvider';\nimport Moment from 'react-moment';\nimport 'moment-timezone';\n\nclass CommentCard extends Component {\n    render() {\n        return (\n            <div className=\"comment-card-text\">\n                <p className=\"blac-comment\">{this.props.data.creator.name}: </p>\n                <p>{this.props.data.text}</p>\n            </div>\n        );\n    }\n}\n\nexport default withAuth(CommentCard);","import React, { Component } from 'react';\nimport Navbar from '../components/Navbar';\nimport FormComment from '../components/FormComment';\nimport CommentCard from '../components/CommentCard';\nimport tripService from '../lib/trip-services';\nimport commentService from '../lib/comment-service';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\nimport Moment from 'react-moment';\nimport 'moment-timezone';\n\nclass TripDetail extends Component {\n\n  state = {\n    data: [],\n    message: \"\",\n    isLoading: true,\n    isJoin: false,\n    dataComments: [],\n  }\n\n  componentDidMount() {\n    tripService.getOne(this.props.match.params.id)\n      .then(data => {\n        this.setState({\n          data: data,\n          isLoading: false\n        })\n        this.checkUserIsJoin();\n        this.checkIntro();\n        this.getCommentsList();\n      })\n  }\n\n  getCommentsList = async () => {\n    await commentService.getCommentsTrip(this.state.data._id)\n      .then(data => {\n        this.setState({\n          dataComments: data\n        })\n      })\n  }\n  checkIntro = () =>{\n    // Formating comments, to replace \\b by <br>\n    let comments = document.querySelectorAll('p');\n    comments.forEach((comment) => {\n        let content = comment.innerHTML.replace(/\\n/g, '<br>');\n        comment.innerHTML = content;\n    });\n  }\n\n  checkUserIsJoin = () => {\n    const { participants } = this.state.data;\n    const isJoin = participants.some(participant => participant._id === this.props.user._id);\n    this.setState({\n      isJoin\n    })\n  }\n\n  handleDelete = (e) => {\n    e.preventDefault();\n    tripService.deleteOne(this.props.match.params.id)\n      .then(message => {\n        this.setState({\n          message,\n        })\n        this.props.history.goBack();\n      })\n  }\n\n  handleJoin = (e) => {\n    e.preventDefault();\n    tripService.joinTrip(this.props.match.params.id)\n      .then(message => {\n        \n        this.setState({\n          message,\n          \n        })\n        this.componentDidMount();\n      })\n  }\n\n\n  handleLeave = (e) => {\n    e.preventDefault();\n    tripService.leaveTrip(this.props.match.params.id)\n      .then(message => {\n        this.setState({\n          message,\n        })\n        this.componentDidMount();\n      })\n  }\n\n  renderProfiles = () => {\n    const { participants } = this.state.data;\n    return participants.map((profile) => {\n      return <Link to={`/profile/${profile._id}`}><img key={profile._id} src={profile.imageURL} alt=\"profile\" className=\"tripdetail-sizeimage\" /></Link>\n    })\n  }\n\n\n  render() {\n\n    const { data, isLoading, isJoin, dataComments } = this.state;\n    \n    switch (isLoading) {\n      case true:\n        return 'loading...';\n      case false:\n        return (\n          <div className=\"margin-bottom-trip-detail\">\n            {data.owner === this.props.user._id\n              && <div className=\"text-align-right\"><button className=\"tripdetail-button-never-effect\" onClick={this.handleDelete}><img className=\"tripdetail-size-image-delete\" src=\"/images/delete.png\" alt=\"icon-delete\"/></button></div>\n            }\n            <img className=\"tripdetail-image\" src={data.imageURL} alt=\"trip\" />\n            <div className=\"tripdetail-margin-global\">\n              <div className=\"tripdetail-float\">\n                <h1 className=\"tripdetail-title\">{data.title}</h1>\n                {data.owner === this.props.user._id\n                  && <Link to={`/trips/${data._id}/edit`}><img className=\"tripdetail-size-image-edit\" src=\"/images/edit.png\" alt=\"icon\" /></Link>\n                }\n                {(data.owner !== this.props.user._id && !isJoin && (data.numberPersons > data.participants.length))\n                  ? <><button className=\"trip-detail-button\" onClick={this.handleJoin}><img className=\"trip-detail-image\" src=\"/images/add-user.png\" alt=\"icon\"/></button> </> : <> </>\n                }\n                {(data.owner !== this.props.user._id && isJoin)\n                  ? <><button className=\"trip-detail-button\" onClick={this.handleLeave}><img className=\"trip-detail-image\" src=\"/images/remove-user.png\" alt=\"icon\"/></button> </> : <></>\n                }\n              </div>\n              <div className=\"tripdetail-displayflex\">\n                <img className=\"tripdetail-icons\" src=\"/images/calendar.png\" alt=\"icon\" />\n                <Moment className=\"tripdetail-padding-top\" format=\"DD/MM/YYYY\">{data.date}</Moment>\n                <Moment className=\"tripdetail-padding-top\" format=\"DD/MM/YYYY\">{data.dateInit}</Moment>\n              </div>\n              <div className=\"tripdetail-displayflex\">\n                <div>\n                  <img className=\"tripdetail-icons\" src=\"/images/itinerario.png\" alt=\"icon\"/>\n                </div>\n                <div>\n                  <p className=\"tripdetail-padding-top\">{data.itinerary}</p>\n                </div>\n              </div>\n              <div className=\"tripdetail-displayflex\">\n                <img className=\"tripdetail-icons\" src=\"/images/usuaris.png\" alt=\"icon-trip\"/>\n                <p className=\"tripdetail-padding-top\">{data.ageRange} años</p>\n              </div>\n              <div className=\"tripdetail-padding-users\">\n                {this.renderProfiles()}\n              </div>\n              <div className=\"tripdetail-barra\"></div>\n              <p className=\"tripedetail-description\">Descripción</p>\n              <p className=\"tripdetail-text-description\">{data.description}</p>\n              <div className=\"tripdetail-barra\"></div>\n              <p className=\"tripedetail-description\">Comentarios</p>\n              <div className=\"tripdetail-comments-box\">\n              {dataComments.map(singleComment => (\n              <CommentCard\n                key={singleComment._id}\n                data={singleComment}\n              />))}\n              </div>\n            <FormComment\n               trip={data}\n               getCommentsList = {this.getCommentsList}\n            />\n            </div>\n            <Navbar />\n          </div>\n        );\n      default:\n        break;\n    }\n  }\n}\n\nexport default withAuth(TripDetail);","import React, { Component } from 'react'\nimport { withAuth } from '../providers/AuthProvider';\nimport Navbar from '../components/Navbar';\nimport tripService from '../lib/trip-services';\nimport TripCard from '../components/TripCard'\n\nclass MyTrips extends Component {\n  state = {\n    data: [],\n    dataJoin: [],\n  }\n\n  componentDidMount() {\n    this.getTripCreateList();\n    this.getTripJoinList();\n  }\n\n  getTripCreateList = async () => {\n    await tripService.getMyTrips()\n      .then(data => {\n        this.setState({\n          data: data\n        })\n      })\n  }\n\n  getTripJoinList = async () => {\n    await tripService.getMyTripsJoin()\n      .then(data => {\n        const data2 = data.filter(trip => {\n          return trip.owner !== this.props.user._id\n        }\n        )\n        this.setState({\n          dataJoin: data2,\n        })\n      })\n  }\n\n  render() {\n    const { data, dataJoin } = this.state;\n    return (\n      <>\n        <div className=\"trips-margin-div-global mytrips-margin-top-global\">\n          <h1 className=\"trips-title font-family-montserrat\">Mis viajes</h1>\n          {data.map(singleTrip => (\n            <TripCard\n              key={singleTrip._id}\n              data={singleTrip}\n            />))}\n          <h1 className=\"trips-title font-family-montserrat\">Viajes confirmados</h1>\n          {dataJoin.map(singleTrip => (\n            <TripCard\n              key={singleTrip._id}\n              data={singleTrip}\n            />))}\n        </div>\n        <Navbar />\n      </>\n    )\n  }\n}\n\nexport default withAuth(MyTrips);\n","import React, { Component } from 'react'\nimport { withAuth } from '../providers/AuthProvider';\nimport Navbar from '../components/Navbar';\nimport profileService from '../lib/profile-service';\nimport TripCard from '../components/TripCard'\n\nclass TripFavs extends Component {\n  state = {\n    data: [],\n  }\n\n  componentDidMount() {\n    this.getTripFavList();\n  }\n\n  getTripFavList = async () => {\n   await profileService.getMyTripsFavs()\n      .then(data => {\n        this.setState({\n          data: data.favTrips\n        })\n      })\n  }\n\n  render() {\n    const { data } = this.state;\n    return (\n      <>\n      <div className=\"image-background-formcreate4\">\n        <div className=\"trips-margin-div-global mytrips-padding-top-global\">\n        <h1 className=\"trips-title font-family-montserrat\">Favoritos</h1>\n        {data.map(singleTrip => (\n            <TripCard\n              key={singleTrip._id}\n              data={singleTrip}\n              getTripFavList = {this.getTripFavList}\n            />))}\n        </div>\n      </div>\n        <Navbar />\n      </>\n    )\n  }\n}\n\nexport default withAuth(TripFavs);","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport profileService from '../lib/profile-service';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '../providers/AuthProvider';\nimport Navbar from '../components/Navbar';\n\nclass Profile extends Component {\n\n  state = {\n    data: {}\n\n  }\n  componentDidMount() {\n    const { id } = this.props.match.params\n    profileService.getProfile(id)\n      .then(data => {\n        this.setState({\n          data: data\n        })\n        this.checkIntro();\n      })\n  }\n\n  checkIntro = () =>{\n    // Formating comments, to replace \\b by <br>\n    let comments = document.querySelectorAll('p');\n    comments.forEach((comment) => {\n        let content = comment.innerHTML.replace(/\\n/g, '<br>');\n        comment.innerHTML = content;\n    });\n  }\n\n  render() {\n    const { _id, name, username, phoneNumber, imageURL, description } = this.state.data;\n    const { logout, user } = this.props;\n\n    return (\n      <>\n      <div className=\"image-background-formcreate3\">\n        <div className=\"nav-top\">\n          <div className=\"profile-float\">\n            <p onClick={this.props.history.goBack}>\n              <img src=\"/images/flecha.png\" alt=\"arrow-left\" className=\"size-5vh arrow-back\" />\n            </p>\n            {_id === this.props.user._id && <>  <Link to={`/profile/${user._id}/edit`}>\n              <img src=\"/images/pencil-edit-button.png\" alt=\"profile-edit\" className=\"size-5vh arrow-back\" />\n            </Link> </>}\n          </div>\n        </div>\n        <div className=\"profile-margin-global\">\n          <img className=\"profile-size-image\" src={imageURL} alt=\"\" />\n          <h1 className=\"profile-name-user\">{name}</h1>\n          <h3 className=\"profile-titulos\" >DIRECCIÓN DE CORREO ELECTRÓNICO</h3>\n          <h3 className=\"profile-username\">{username}</h3>\n          <div className=\"profile-margin-top2\">\n            <h3 className=\"profile-titulos\">NÚMERO DE TELÉFONO</h3>\n            <h3 className=\"profile-username\">{phoneNumber}</h3>\n          </div>\n          <div className=\"profile-margin-top2\">\n            <h3 className=\"profile-titulos\">DESCRIPCION</h3>\n            <p className=\"profile-username\">{description}</p>\n          </div>\n          <div className=\"profile-close-session-div\">\n            {_id === this.props.user._id && <> <p onClick={logout}>Cerrar sesión</p> </>\n            }\n          </div>\n        </div>\n      </div>\n        <Navbar />\n      </>\n    );\n  }\n}\n\nexport default withAuth(withRouter(Profile));","import React, { Component } from 'react';\nimport profileService from '../lib/profile-service';\nimport firebase from 'firebase';\nimport FileUploader from 'react-firebase-file-uploader';\n\nclass FormEditProfile extends Component {\n  state = {\n    name: this.props.profile.name,\n    username: this.props.profile.username,\n    password: \"\",\n    newPassword: \"\",\n    phoneNumber: this.props.profile.phoneNumber,\n    description: this.props.profile.description,\n    imageURL: this.props.profile.imageURL,\n    avatar: '',\n    isUploading: false,\n    progress: 0,\n  }\n\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const {name, username, password, newPassword, phoneNumber, imageURL, description} = this.state\n    profileService.edit({ name, username, password, phoneNumber, newPassword, imageURL, description })\n      .then(() => {\n        this.props.history.goBack();\n      })\n      .catch((data) => {\n        this.setState({\n          error: data.response.data.error\n        })\n      })\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  handleChangeUsername = (event) => this.setState({ username: event.target.value });\n  handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\n  handleProgress = (progress) => this.setState({ progress });\n  handleUploadError = (error) => {\n    this.setState({ isUploading: false });\n    console.error(error);\n  }\n  handleUploadSuccess = (filename) => {\n    this.setState({ avatar: filename, progress: 100, isUploading: false });\n    firebase.storage().ref('/fotos').child(filename).getDownloadURL().then(url => this.setState({ imageURL: url }));\n  };\n  \n  render() {\n    const { name, username, password, newPassword, phoneNumber, description } = this.state;\n    return (\n      <>\n        <p onClick={this.props.history.goBack}>\n          <img src=\"/images/flecha.png\" alt=\"arrow-left\" className=\"size-5vh arrow-back\" />\n        </p>\n        <div className=\"profile-margin-global\">\n      {this.state.isUploading &&\n       <p>Progress: Uploading...</p>\n      }\n      {this.state.imageURL &&\n        <img src={this.state.imageURL} className=\"profile-size-image\" alt=\"trip\"/>\n      }\n              <div className=\"image-form\">\n                <FileUploader\n                  accept=\"image/*\"\n                  name=\"avatar\"\n                  randomizeFilename\n                  storageRef={firebase.storage().ref('/fotos')}\n                  onUploadStart={this.handleUploadStart}\n                  onUploadError={this.handleUploadError}\n                  onUploadSuccess={this.handleUploadSuccess}\n                  onProgress={this.handleProgress}\n                />\n              </div>\n          <form onSubmit={this.handleFormSubmit}>\n            <div className=\"formeditprofile-margin-bottom\">\n              <label className=\"profile-titulos\">Nombre y apellidos</label>\n              <input type=\"text\" name=\"name\" value={name} onChange={this.handleChange} className=\"profile-username borderTest\" />\n            </div>\n            <div className=\"formeditprofile-margin-bottom\">\n              <label className=\"profile-titulos\">Dirección de correo electrónico</label>\n              <input className=\"profile-username borderTest\" name=\"username\" value={username} onChange={this.handleChange}>\n              </input>\n            </div>\n            <div className=\"formeditprofile-margin-bottom\">\n              <label className=\"profile-titulos\">Contraseña actual</label>\n              <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} className=\"borderTest profile-username\" />\n            </div>\n            <div className=\"formeditprofile-margin-bottom\">\n              <label className=\"profile-titulos\">Nueva contraseña</label>\n              <input type=\"password\" name=\"newPassword\" value={newPassword} onChange={this.handleChange} className=\"profile-username borderTest\" />\n            </div >\n            <div className=\"formeditprofile-margin-bottom\">\n              <label className=\"profile-titulos\">Número de teléfono</label>\n              <input type=\"text\" name=\"phoneNumber\" value={phoneNumber} onChange={this.handleChange} className=\"profile-username borderTest\" />\n            </div>\n\n            <div className=\"formeditprofile-margin-bottom\">\n              <label className=\"profile-titulos\">Descripción</label>\n              <textarea type=\"text\" name=\"description\" value={description} onChange={this.handleChange} className=\"profile-username borderTest\" />\n            </div>\n\n            <div className=\"text-align-center\">\n              <div>\n                <input className=\"formcreatetrip-button2\" type=\"submit\" value=\"Guardar\" />\n              </div>\n            </div>\n          </form>\n          {this.state.error}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default FormEditProfile;","import React, { Component } from 'react';\nimport FormEditProfile from '../components/FormEditProfile';\nimport profileService from '../lib/profile-service';\nimport { withRouter } from 'react-router-dom';\n\n\n\nclass ProfileEdit extends Component {\n  state = {\n    isLoading: true,\n    data: {}\n\n  }\n  \n  componentDidMount = () => {\n    const { id } = this.props.match.params\n    this.getProfile(id);\n  }\n\n  getProfile= (id) => {\n   \n    profileService.getProfile(id)\n      .then(data => {\n        this.setState({\n          data: data,\n          isLoading: false\n        })\n      })\n  }\n\n  render() {\n    \n    const { data,isLoading } = this.state;\n\n    switch (isLoading) {\n      case true:\n        return 'loading...';\n      case false:\n        return (\n          <div className=\"image-background-formcreate3\">\n            <FormEditProfile profile={data} history={this.props.history}/>\n          </div>\n        );\n      default:\n          break;\n    }\n  }\n}\n\nexport default withRouter(ProfileEdit);","import React, { Component } from 'react';\n\nclass NoMatch extends Component {\n  render() {\n    return (\n      <div>\n        <h1>404 - page not found</h1>\n      </div>\n    );\n  }\n}\n\nexport default NoMatch;","import React, { Component } from 'react';\nimport {Switch, Route} from 'react-router-dom'\nimport PrivateRoute from './components/PrivateRoute';\nimport AnonRoute from './components/AnonRoute';\nimport Home from './pages/Home';\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Trips from './pages/Trips';\nimport TripsCreate from './pages/TripsCreate';\nimport TripsEdit from './pages/TripsEdit';\nimport TripDetail from './pages/TripDetail';\nimport MyTrips from './pages/MyTrips';\nimport TripFavs from './pages/TripFavs';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport AuthProvider from './providers/AuthProvider';\nimport NoMatch from './pages/NoMatch';\n\nimport './css/App.css';\nimport './css/Login.css';\nimport './css/Signup.css';\nimport './css/Trips.css';\nimport './css/TripsNew.css';\nimport './css/Home.css';\nimport './css/TripDetail.css';\nimport './css/Profile.css'; \nimport './css/ProfileEdit.css'; \n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <AuthProvider>\n        <div className=\"container\">\n          <Switch>\n          <AnonRoute exact path=\"/\" component={Home} />\n            <AnonRoute exact path=\"/signup\" component={Signup} />\n            <AnonRoute exact path=\"/login\" component={Login} />\n            <PrivateRoute exact path=\"/trips\" component={Trips} />\n            <PrivateRoute exact path=\"/trips/new\" component={TripsCreate} />\n            <PrivateRoute exact path=\"/trips/:id\" component={TripDetail} />\n            <PrivateRoute exact path=\"/trips/:id/edit\" component={TripsEdit} />\n            <PrivateRoute exact path=\"/mytrips\" component={MyTrips} />\n            <PrivateRoute exact path=\"/favs\" component={TripFavs} />\n            <PrivateRoute exact path=\"/profile/:id/edit\" component={ProfileEdit} />\n            <PrivateRoute exact path=\"/profile/me\" component={Profile} />\n            <PrivateRoute exact path=\"/profile/:id\" component={Profile} />\n            <Route component={NoMatch} />\n          </Switch>\n        </div>\n      </AuthProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport firebase from 'firebase';\nimport './index.css';\n\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCfuQ70DR94cFTl80h620DfyvRW5tCYnMI\",\n    authDomain: \"tripandgofrontend.firebaseapp.com\",\n    databaseURL: \"https://tripandgofrontend.firebaseio.com\",\n    projectId: \"tripandgofrontend\",\n    storageBucket: \"tripandgofrontend.appspot.com\",\n    messagingSenderId: \"1087449744779\"\n});\n\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n, document.getElementById('root'));"],"sourceRoot":""}